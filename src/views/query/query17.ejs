<%- include('../includes/head.ejs') %>
<!-- link to css files -->
</head>

<body>
    <main class="d-flex flex-nowrap">
        <%- include('../includes/Sidebar.ejs') %>
        <div class="d-flex flex-column mb-3" style="margin: 20px;">

            <%- include('../includes/queryNav.ejs') %>
            <p>Get details of the nurse(s) or doctor(s) who are currently working and has never been infected by COVID-19. Details include first-name, last-name, first day of work as a nurse or as a doctor, role (nurse/doctor), date of birth, email address, and total number of hours scheduled. Results should be displayed sorted in ascending order by role, then by first name, then by last name
            </p>

            <table class="table table-hover table-sm">
                <tr>
                    <th scope="col">First Name</th>
                    <th scope="col">Last Name</th>
                    <th scope="col">First Day Worked</th>
                    <th scope="col">Role</th>
                    <th scope="col">Date Of Birth</th>
                    <th scope="col">Email</th>
                    <th scope="col">Total Hours Scheduled</th>
                    <th></th>
                    <th></th>
                </tr>
                <tbody>
                    <tr>
                        <%if(data.length>0){ %>
                        <%data.forEach(entry =>{  %>
                        <td><%=entry.first_name%></td>
                        <td><%=entry.last_name%></td>
                        <td><%=entry.start_date%></td>
                        <td><%=entry.Role%></td>
                        <td><%=entry.date_of_birth%></td>
                        <td><%=entry.email%></td>
                        <td><%=entry.total_hours_scheduled%></td>
                    </tr>
                    <%})} else { %>
                    <h1>No Data</h1>
                    <%  }  %>

                </tbody>
            </table>
        </div>


    </main>

    <%- include('../includes/end.ejs') %>